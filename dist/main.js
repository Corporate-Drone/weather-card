(()=>{"use strict";const e=document.querySelector(".weather-card"),t=document.querySelector("#weather-icon"),n=document.querySelector(".city-name"),o=document.querySelector("#display-temp"),r=document.querySelector(".skies"),i=document.querySelector("#high"),c=document.querySelector("#low"),l=document.querySelector("#wind"),a=document.querySelector("#humidity"),s=document.querySelector("#visibility"),u=document.querySelector(".toggle-btn"),d=document.querySelector(".date");let m=(new Date).toLocaleDateString();d.innerText=m;class y{constructor(e,t,n,o,r,i,c,l){this.name=e,this.temperature=t,this.description=n,this.max=o,this.low=r,this.wind=i,this.humidity=c,this.visibility=l}}const h=async function(d){try{const m=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${d}&appid=a6a52295826581e25672aefa939db91c&units=imperial`,{mode:"cors"}),h=await m.json();console.log(h),function(d){e.style.visibility="visible";let m=d.name;n.innerText=m;let y=Math.round(d.temperature);o.innerText=y;let h=d.description;r.innerText=h;let g=Math.round(d.max);i.innerText=g;let w=Math.round(d.low);c.innerText=w;let p=d.wind;l.innerText=Math.round(p);let b=document.createElement("span");b.innerText=" mph",l.appendChild(b);let x=d.humidity;a.innerText=x;let v=document.createElement("span");v.innerText="%",a.appendChild(v);let S=Math.round(d.visibility/1e3*.6214);s.innerText=S;let T=document.createElement("span");T.innerText=" miles",s.appendChild(T),function(){let e=document.querySelectorAll(".temperature");if("Fahrenheit"!==u.innerText)for(let t=0;t<e.length;t++)e[t].innerText=Math.round(5*(e[t].innerText-32)/9)}(),r.innerText.includes("Clear")?(e.style.backgroundColor="DarkTurquoise",t.src="https://www.flaticon.com/svg/static/icons/svg/2892/2892972.svg",document.body.style.backgroundColor="LavenderBlush"):r.innerText.includes("Snow")?(e.style.backgroundColor="LightSlateGrey",t.src="https://www.flaticon.com/svg/static/icons/svg/642/642000.svg",document.body.style.backgroundColor="Gainsboro"):r.innerText.includes("Rain")?(e.style.backgroundColor="LightSlateGrey",t.src="https://www.flaticon.com/svg/static/icons/svg/414/414974.svg",document.body.style.backgroundColor="Gainsboro"):r.innerText.includes("Cloud")?(e.style.backgroundColor="LightSlateGrey",t.src="https://www.flaticon.com/svg/static/icons/svg/2151/2151266.svg",document.body.style.backgroundColor="Gainsboro"):r.innerText.includes("Storm")?(e.style.backgroundColor="LightSlateGrey",t.src="https://www.flaticon.com/svg/static/icons/svg/3815/3815424.svg",document.body.style.backgroundColor="Gainsboro"):(e.style.backgroundColor="LightSlateGrey",t.src="https://www.flaticon.com/svg/static/icons/svg/2151/2151266.svg",document.body.style.backgroundColor="Gainsboro")}(new y(h.name,h.main.temp,h.weather[0].main,h.main.temp_max,h.main.temp_min,h.wind.speed,h.main.humidity,h.visibility))}catch(e){console.log(e)}},g=document.querySelector(".weather-card"),w=document.querySelector(".search-btn"),p=document.querySelector(".city-input"),b=document.querySelector(".toggle-btn"),x=document.querySelector(".date");let v=(new Date).toLocaleDateString();x.innerText=v,g.style.visibility="hidden",h("Sacramento"),w.addEventListener("click",(()=>{h(p.value),p.value=""})),b.addEventListener("click",(()=>{let e=document.querySelectorAll(".temperature");if("Fahrenheit"==b.innerText){b.innerText="Celsius";for(let t=0;t<e.length;t++)e[t].innerText=Math.round(5*(e[t].innerText-32)/9)}else{b.innerText="Fahrenheit";for(let t=0;t<e.length;t++)e[t].innerText=Math.round(9*e[t].innerText/5+32)}}))})();